在 React 中, 父子组件的交互是通过 props. 这个机制其实是双向的, 父组件通过 props 把值传递给子组件, 而子组件则通过暴露一些事件, 给父组件反馈到一些状态或数据. 这两个环节是 `组件之间通信的基础`, 需要熟练掌握.   

今天来看下在React 中事件的机制是怎样的, 从原理出发, 帮助你深入理解. 同时, 也来学习一下对于自定义事件, 一般都有哪些典型的应用场景, 学以致用.   

# 在 React 中使用原生事件  
* 在React中进行事件监听的语法, 和原生 DOM 事件的写法是非常类似的, 都是在一个节点上加一个回调函数的属性来实现. 如下:  
```
<button onClick={handler}>Hello</button>
```   
* 特别说明一点,对于原生 DOM 的事件, 标准的写法可能是都小写, 比如 onclick. 但是在 React 中, 都是 约定使用骆驼体(Camel Case).  
* 通过这个规律, 基本上不用刻意去记事件的名称. 要始终记得, `只要原生 DOM 有的事件, 在React中基本都可以使用, 只是写法上采用骆驼体就可以了  `, 比如 onMouseOver, onChange 等.  
* 此外, 关于事件处理函数, 那就要回到很多之前的问题: 是不是所有的回调函数都需要用 useCallback 进行封装呢? 是不是简单的回调函数就可以不用封装了呢?   
> 其实是否需要 useCallback, 和函数的复杂度没有必然关系, 而是 `和回调函数绑定到哪个组件有关`. 这是为了避免因组件属性变化而导致不必要的重新渲染.  
> 而对于原生的 DOM 节点, 比如 button, input 等, 我们是不用担心重新渲染的. 所以呢, 如果你的事件处理函数是传递给原生节点, 那么不写 callback, 也几乎不会有任何性能的影响.  

* 但是 `如果你使用的是自定义组件, 或者一些UI框架的组件, 那么回调函数还都应该用 useCallback 进行封装.`   

# React 原生事件的原理: 合成事件 (Synthetic Events)  
* 因为原生事件的机制比较特别, 所以在这里要特别强调一下它的原理.  
> 由于虚拟 DOM 的存在, 在React中即使绑定一个事件到原生的DOM节点, 事件也并不是绑定在对应的节点上, 而是 `所有的事件都是绑定在根节点上. `然后又 React 统一监听和管理, 获取时间后再分发到具体的虚拟 DOM 节点上.   
> 在 React17 之前, 所有的事件都是绑定在 document 上的, `而从 React 17 开始, 所有的事件都绑定在整个 App 上的根节点上, ` 这主要是为了以后页面上可能存在多版本 React 的考虑.  
> 具体来说, React 这么做的原因主要有两个:  
> 1. 虚拟 DOM render 的时候, DOM 很可能还没有真实地 render 到页面上, 所以无法绑定事件.   
> 2. React 可以屏蔽底层事件的细节, 避免浏览器的兼容性问题. 同时呢, 对于React Native 这种不是通过浏览器 render 的运行时, 也能提供一致的 API.   